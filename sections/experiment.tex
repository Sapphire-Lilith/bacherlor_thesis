%!TEX root = ../main.tex
\documentclass[main]{subfiles}

\begin{document}

\chapter{調査手法}

形式手法を適用したソフトウェア開発に特有の問題を調査するため，\ref{sec:survey-target}節で述べたリポジトリのIssueを各々について分類し，その傾向を比較した．
調査は以下の手順で行った．

% textlint-disable ja-technical-writing/sentence-length
\begin{enumerate}[label=手順\arabic*.]
	\item \label{enum:preprocess}
	      リポジトリからIssueを取得し，前処理を行う．
	\item \label{enum:bertopic}
	      各リポジトリのIssueをBERTopicにより分類する．
	\item \label{enum:labeling}
	      \ref{enum:bertopic}で得られた分類に対してラベルを付与する．
	\item \label{enum:aggregate}
	      \ref{enum:labeling}で得られたラベルの出現頻度を，形式手法を適用して開発されたソフトウェアとそうでないソフトウェアとで集計する．
	\item \label{enum:statistical}
	      \ref{enum:aggregate}で得られた集計結果をピアソンの\(\chi^2\)検定により比較する．
\end{enumerate}
% textlint-enable ja-technical-writing/sentence-length

\section{\ref{enum:preprocess}}

本手順ではリポジトリから取得したIssueをBERTopicにより分類するための前処理を行う．
前処理の内容は次の通りである．

% textlint-disable ja-technical-writing/no-doubled-conjunction
\begin{enumerate}
	\item \label{enum:filter}
	      Issueのtitle要素およびbody要素からURL，メールアドレス，コードブロック，記号を除去する．
	\item \label{enum:lowercase}
	      Issueのtitle要素およびbody要素を結合し，単一のテキストとする．
\end{enumerate}
% textlint-enable ja-technical-writing/no-doubled-conjunction

BERTopicは学習済みの埋め込みモデルを用いるため，一般的な英文の分類においては前処理を必要としない．
しかし本研究で取得したIssueはmarkdown形式で記述されており，またソフトウェアに対する報告であるため，エラーメッセージやコードスニペットを含むことがある．
これらの情報は文章の意味に影響を与えないが，BERTopicによる分類に影響を与える可能性があるため，前処理を行うことでこれらの情報を除去した．

\section{\ref{enum:bertopic}}

本手順では各リポジトリについて前処理を行ったIssueをBERTopicにより分類する．
この結果として，分類およびその分類に属するIssue数，また各分類を代表する単語および文書が得られる．
ここで分類を代表する単語とは，各分類に含まれる文書の中で最もその分類を特徴づけると考えられる単語であり，本手順においてはそれぞれの分類に対して5単語を抽出した．
また分類を代表する文書とは，各分類に含まれる文書の中で最もその分類を特徴づけると考えられる文書であり，本手順においてはそれぞれの分類に対して3文書を抽出した．

\section{\ref{enum:labeling}}

本手順では\ref{enum:bertopic}で得られた分類に対してラベルを付与する．
付与するラベルはHallらの研究およびBissyand{\'e}らの研究\cite{bissyande:2013}において用いられたものを参考にし，本研究で取得したIssueを分類するために適切であると考えられるものを設定した．
付与したラベルとその意味は次の通りである．

% textlint-disable ja-technical-writing/sentence-length
\begin{description}[labelwidth=6em, leftmargin=6em]
	\item[error] ソフトウェアに関して単に動作不良を報告するもの．
	\item[bug] ソフトウェアに関する動作不良の報告であり，明確にバグであると判断されるもの．
	\item[requirement] ソフトウェアに関して要求するもの．
	\item[improvement] ソフトウェアに関する要求であって，機能の追加や改善を求めるもの．
	\item[question] ソフトウェアに関して質問するもの．
	\item[maintenance] ソフトウェアの保守に関するもの．
	\item[other] 以上のいずれにも分類されないもの．
\end{description}
% textlint-enable ja-technical-writing/sentence-length

各ラベルは\ref{enum:bertopic}で得られた分類において，その分類を代表する文書を参考にして付与した．
ただしBERTopicによる分類では外れ値が発生するため，外れ値に対しては一律にotherを付与した．

\section{\ref{enum:aggregate}}

本手順では\ref{enum:labeling}で得られたラベルの出現頻度を，形式手法を適用して開発されたソフトウェアとそうでないソフトウェアとで集計する．
まず各リポジトリについて，ラベル付けされた分類に属するIssue数を用いて各ラベルに属するIssueの出現割合を算出し，これを各リポジトリにおけるラベルの出現割合とした．
次に形式手法を適用したソフトウェアとそうでないソフトウェアとのそれぞれについて，各リポジトリにおけるラベルの出現割合の平均を算出し，これを各ソフトウェアにおけるラベルの出現割合とした．

\section{\ref{enum:statistical}}

本手順では\ref{enum:aggregate}で得られた集計結果をピアソンの\(\chi^2\)検定により比較する．
ピアソンの\(\chi^2\)検定は分類されたデータの連関を検定するノンパラメトリック検定である．
本研究においては\ref{enum:aggregate}で得られたラベルの出現割合について，形式手法を適用して開発されたソフトウェアとそうでないソフトウェアとの間でピアソンの\(\chi^2\)検定を行う．

\end{document}

